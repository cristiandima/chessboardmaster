(this.webpackJsonpchessboardmaster=this.webpackJsonpchessboardmaster||[]).push([[0],[,,,,,,function(e,t,n){e.exports=n(13)},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var r=n(0),c=n.n(r),a=n(5),o=n.n(a),i=(n(11),n(1)),l=n(3),s=n(2),u=(n(12),Object.freeze({WHITE:"WHITE",BLACK:"BLACK"})),f=Object.freeze({WHITE:"#dcdcdc",BLACK:"#09292c",OK:"#00c946",WRONG:"red"}),h=Object.freeze({MENU:"MENU",BOARD:"BOARD",END:"END"});function d(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1))+e}var E=function(){return Math.random()<.5?u.WHITE:u.BLACK},S=function(){return new g(d(0,7),d(0,7))},m=function(e){Object(l.a)(n,e);var t=Object(s.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this)).componentDidMount=function(){r.interval=setInterval((function(){r.setState((function(e){return{seconds:e.seconds-1}})),r.state.seconds<=0&&(r.props.onDone(),clearInterval(r.interval))}),1e3)},r.componentWillUnmount=function(){clearInterval(r.interval)},r.render=function(){var e=r.state.seconds,t=Math.floor(e/60);return c.a.createElement("div",{id:"clock"},t,":",e%60)},r.state={seconds:e.seconds},r}return n}(c.a.Component),g=function e(t,n){var r=this;Object(i.a)(this,e),this.toChessBoardSquare=function(e){var t=["A","B","C","D","E","F","G","H"];switch(e){case u.WHITE:return t[r.x]+"".concat(8-r.y);case u.BLACK:return t[7-r.x]+"".concat(r.y+1);default:return""}},this.x=t,this.y=n},v=function(e){var t=e.highScore,n=e.changeScreen;return c.a.createElement("div",{style:{textAlign:"center"}},c.a.createElement("div",{id:"gameTitle"},"CHESS BOARD MASTER"),c.a.createElement(x,{style:{fontSize:"40px",width:"200px"},onClick:function(){return n(h.BOARD)},text:"START"}),c.a.createElement("div",{id:"highScore"},t))},p=function(e){Object(l.a)(n,e);var t=Object(s.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this)).correct=function(){r.props.incScore(),r.setState({color:E(),target:S()})},r.render=function(){var e=r.state,t=e.color,n=e.target,a=n.toChessBoardSquare(t);return c.a.createElement("div",null,c.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"}},c.a.createElement("div",{style:{fontSize:"30px",color:t===u.WHITE?f.WHITE:f.BLACK}},t),c.a.createElement("div",{style:{fontSize:"50px",marginLeft:"-60px",color:t===u.WHITE?f.WHITE:f.BLACK}},a),c.a.createElement("div",{style:{fontSize:"50px",color:f.OK}},r.props.score)),c.a.createElement(C,{target:n,onCorrect:r.correct}),c.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"}},c.a.createElement(m,{onDone:function(){return r.props.changeScreen(h.END)},seconds:60}),c.a.createElement(O,{onClick:function(){return r.props.changeScreen(h.END)},text:"QUIT"})))},r.state={color:E(),target:S()},r}return n}(c.a.Component),C=function(e){Object(l.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).componentDidMount=function(){var t=e.canvasRef.getContext("2d");console.log(e.props.target);for(var n=0;n<8;n++){var r=n%2===0?f.WHITE:f.BLACK;t.fillStyle=r;for(var c=0;c<8;c++)t.fillRect(80*c,80*n,80,80),r=r===f.WHITE?f.BLACK:f.WHITE,t.fillStyle=r}},e.onClick=function(t){var n=e.props.target,r=t.target.getBoundingClientRect(),c=Math.floor((t.clientX-r.left)/80),a=Math.floor((t.clientY-r.top)/80),o=f.BLACK;a%2===0&&c%2===0&&(o=f.WHITE),a%2!==0&&c%2!==0&&(o=f.WHITE);var i=e.canvasRef.getContext("2d");n.x===c&&n.y===a?(i.fillStyle=f.OK,i.fillRect(80*c,80*a,80,80),setTimeout((function(){e.props.onCorrect(),i.fillStyle=o,i.fillRect(80*c,80*a,80,80)}),200)):(i.fillStyle=f.WRONG,i.fillRect(80*c,80*a,80,80),setTimeout((function(){i.fillStyle=o,i.fillRect(80*c,80*a,80,80)}),200))},e.render=function(){return c.a.createElement("div",null,c.a.createElement("canvas",{id:"board-canvas",ref:function(t){return e.canvasRef=t},onClick:e.onClick,width:640,height:640,style:{cursor:"pointer"}}))},e}return n}(c.a.Component),y=function(e){var t=e.score,n=e.isNewHighScore,r=e.changeScreen;return c.a.createElement("div",{style:{"text-align":"center"}},c.a.createElement("div",{id:"gameTitle"},"CHESS BOARD MASTER"),c.a.createElement("div",null,n&&c.a.createElement("div",{style:{fontSize:"25px"}},"New High Score!"),c.a.createElement("div",{id:"highScore",style:{color:f.OK}},t)),c.a.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"}},c.a.createElement(x,{style:{width:"200px"},onClick:function(){return r(h.BOARD)},text:"RETRY"}),c.a.createElement(O,{style:{fontSize:"25px",marginTop:"20px"},onClick:function(){return r(h.MENU)},text:"EXIT"})))},x=function(e){var t=e.onClick,n=e.text,r=e.style,a=void 0===r?{}:r;return c.a.createElement("a",{href:"#",className:"button startButton",onClick:t,style:a},n)},O=function(e){var t=e.onClick,n=e.text,r=e.style,a=void 0===r?{}:r;return c.a.createElement("a",{href:"#",className:"button exitButton",onClick:t,style:a},n)},I=function(e){Object(l.a)(n,e);var t=Object(s.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this)).changeScreen=function(e){r.setState((function(t){return{screen:e,isNewHighScore:e===h.END&&t.isNewHighScore,score:e===h.BOARD?0:t.score}}))},r.incScore=function(){r.setState((function(e){var t=e.score+1,n=t>e.highScore;return n&&localStorage.setItem("highScore",t.toString()),{score:t,highScore:n?t:e.highScore,isNewHighScore:n}}))},r.render=function(){switch(r.state.screen){case h.BOARD:return c.a.createElement("div",{id:"gameScreenContainer"},c.a.createElement(p,{score:r.state.score,incScore:r.incScore,changeScreen:r.changeScreen}));case h.END:return c.a.createElement("div",{id:"app"},c.a.createElement(y,{score:r.state.score,isNewHighScore:r.state.isNewHighScore,highScore:r.state.highScore,changeScreen:r.changeScreen}));default:return c.a.createElement("div",{id:"app"},c.a.createElement(v,{highScore:r.state.highScore,changeScreen:r.changeScreen}))}},r.state={score:0,highScore:parseInt(localStorage.getItem("highScore")||0),isNewHighScore:!1,screen:h.MENU},r}return n}(c.a.Component);o.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(I,null)),document.getElementById("root"))}],[[6,1,2]]]);
//# sourceMappingURL=main.b26194ce.chunk.js.map